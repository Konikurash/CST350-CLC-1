using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;
using CLC_Proj.Models;
using CLC_Proj.Services;
using Microsoft.AspNetCore.Mvc;

namespace CLC_Proj.Controllers
{
    [ApiController]
    [Route("api/[controller]")]
    public class SavedGamesController : ControllerBase
    {
        SavedGameDAO savedGameList = new SavedGameDAO();
        public SavedGamesController()
        {
            savedGameList = new SavedGameDAO();
        }
        [HttpGet]
        public ActionResult <IEnumerable<SavedGameModel>> Index()
        {
            return savedGameList.AllSavedGames();
        }

        [HttpGet("searchresults/{searchId}")]
        public ActionResult<IEnumerable<SavedGameModel>> SearchResults(int searchId)
        {
            List<SavedGameModel> games = savedGameList.searchGame(searchId);
            return games;
        }
    }
}
